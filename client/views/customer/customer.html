<div class="row" ng-controller="CustomerCtrl as cl">
  <div class="row">
    <ol class="breadcrumb">
      <li><a>客户管理</a></li>
      <li class="active">客户信息</li>
    </ol>
  </div>
  <div class="row">
    <form class="form-inline col-md-12" name="form" role="form" ng-submit="cl.search()">

      <div class=" text-right">
        <div class="alert alert-danger" ng-show="!form.$valid">
          <span class="error" ng-show="form.mobile.$error.minlength">只能为11位手机号码</span>
          <span class="error" ng-show="form.mobile.$error.maxlength">只能为11位手机号码</span>
        </div>
      </div>
      <div class=" text-right">
        <div class="input-group">
          <input type="number" name="mobile" class="form-control" ng-model="cl.pager.filter.EQS_telephone"
                 placeholder="手机号" ng-maxlength="11" ng-minlength="11">
          <span class="input-group-btn">
            <button class="btn btn-default" type="submit" ng-disabled="!form.$valid"><span
              class="glyphicon glyphicon-search"
              aria-hidden="true"></span></button>
          </span>
        </div>
      </div>
      用户基本信息查询
      <hr>
    </form>
  </div>

  <tabset>
    <tab heading="用户基本信息" select="cl.findCustomerByMobile()" ng-click="cl.tabIndex = 1">
      <div class="row col-md-12">
        <div class=" col-md-12">

        </div>
      </div>
      <div class="row col-md-12">
        <div class=" col-md-6">
          <form class="form-horizontal col-md-12" role="form">
            个人资料
            <hr>
            <div class="row col-md-12">
              <label class="control-label">姓名：</label>
              <span ng-bind="cl.customer.userName"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">手机号：</label>
              <span ng-bind="cl.customer.mobilePhoneNo"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">状态：</label>
              <span ng-bind="cl.customer.status"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">身份证号：</label>
              <span ng-bind="cl.customer.idCardNo"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">注册邮箱：</label>
              <span ng-bind="cl.customer.email"></span>
            </div>
          </form>
        </div>
        <div class=" col-md-6">
          <form class="form-horizontal col-md-12" role="form">
            个人头像
            <hr>
            登陆信息
            <hr>
            <div class="row col-md-12">
              <label class="control-label">上次登陆时间：</label>

              <span ng-bind="cl.customer.loginTime | date:'yyyy-MM-dd HH:mm:ss'"></span>
            </div>

          </form>

        </div>
      </div>
      <div class="row col-md-12">
        <br/>
        <div class=" col-md-6">
          <form class="form-horizontal col-md-12" role="form">

            开户信息
            <hr>
            <div class="row col-md-12">
              <label class="control-label">注册时间：</label>
              <span ng-bind="cl.customer.registrationDate | date:'yyyy-MM-dd '"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">开户时间：</label>
              <span ng-bind="cl.customer.accountCreateTime | date:'yyyy-MM-dd'"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">首次购买时间：</label>
              <span ng-bind="cl.customer.purchaserDate | date:'yyyy-MM-dd HH:mm:ss'"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">银行卡数：</label>
              <span ng-bind="cl.customer.bankCardCount"></span>
            </div>

          </form>
        </div>
        <div class=" col-md-6">
          <form class="form-horizontal col-md-12" role="form">

            推荐人信息
            <hr>
            <div class="row col-md-12">
              <label class="control-label">推荐人：</label>
              <span ng-bind="cl.customer.referrer"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">推荐人手机：</label>
              <span ng-bind="cl.customer.referrerMobile"></span>
            </div>
            <div class="row col-md-12">
              <label class="control-label">成功推荐人数：</label>
              <span ng-bind="cl.customer.bankCardCount"></span>
            </div>
          </form>
        </div>
      </div>
      <div class="row col-md-12">
        <br/>
        <div class="col-md-6">
          <div class="col-md-12">
            绑定银行卡信息
            <hr>
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                <th>银行名称</th>
                <th>银行卡号</th>
                </thead>
                <tbody>
                <tr ng-repeat="bankCard in cl.bankCards">
                  <td ><span>{{bankCard.bankName}}</span></td>
                  <td>{{bankCard.bankCardNo}}</td>
                </tr>
                <tr ng-show="cl.bankCards.length == 0">
                  <td colspan="2">没有数据</td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </tab>
    <tab heading="成功推荐人信息" select="cl.findReferrerDetails()" ng-click="cl.tabIndex = 2">
      <div class="well well-lg">
        <div class="gridStyle" ng-grid="referrerDetailOptions" ng-page-changed="cl.findReferrerDetails()"></div>
      </div>
    </tab>
    <tab heading="基金交易" select="cl.findReferrerDetails()" ng-click="cl.tabIndex = 3">
      <div class="well well-lg">
        <div class="gridStyle" ng-grid="referrerDetailOptions" ng-page-changed="cl.findReferrerDetails()"></div>
      </div>
    </tab>
    <tab heading="奖励账户余额" select="cl.findReward()" ng-click="cl.tabIndex = 4">

      <div class="row col-md-12">
        <label class="control-label">姓名：</label>
        <span ng-bind="cl.reward.customerName"></span>

        <label class="control-label">手机号：</label>
        <span ng-bind="cl.reward.mobile"></span>
        <hr>
      </div>

      <div class="row col-md-12">
        <label class="control-label">奖励账户余额：</label>
        <span ng-bind="cl.reward.rewardAcctBalance"></span>

        <label class="control-label">金豆数：</label>
        <span ng-bind="cl.reward.goldBeanNum"></span>

        <label class="control-label">可兑换：</label>
        <span ng-bind="cl.customer.canExchangeBeans"></span>

        <label class="control-label">已兑换：</label>
        <span ng-bind="cl.reward.alreadyExchangeBeans"></span>
        <hr>
      </div>

      <div class="row col-md-12">
        <label class="control-label">红包金额：</label>
        <span ng-bind="cl.reward.redPacketNum"></span>

        <label class="control-label">可取现：</label>
        <span ng-bind="cl.reward.canExchangeRedPacket"></span>

        <label class="control-label">已取现：</label>
        <span ng-bind="cl.reward.alreadyExchangeRedPacket"></span>
        <hr>
      </div>

      <div class="row col-md-12">
        <div class="col-md-6">
          <div class="col-md-12">
            奖励账户明细
            <hr>
            <div class="well well-lg">
              <div class="gridStyle" ng-grid="rewardItensOptions" ng-page-changed="cl.findRewardItems()"></div>
            </div>
          </div>
        </div>
      </div>
    </tab>

  </tabset>


</div>
